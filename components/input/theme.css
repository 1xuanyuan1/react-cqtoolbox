@import '../colors.css';
@import '../variables.css';
@import './config.css';

.input {
    display: block;
    position: relative;
    @apply --reset;
    font-size: var(--font-size);
}

.inputElement {
    appearance: none;
    background-image: none;
    background-color: var(--input-text-background-color);
    border-bottom: 1px solid var(--input-text-bottom-border-color);
    border-left: 0;
    border-right: 0;
    border-top: 0;
    color: var(--input-color);
    box-sizing: border-box;
    font-size: inherit;
    line-height: inherit;
    outline: none;
    width: 100%;

    &:focus:not([disabled]):not([readonly]) {
        & ~ .bar::before,
        & ~ .bar::after {
          width: 50%;
        }
    }
}

.bar {
  display: block;
  position: relative;
  width: 100%;

  &::before,
  &::after {
    background-color: var(--input-text-highlight-color);
    bottom: 0;
    content: '';
    height: 2px;
    position: absolute;
    transition-duration: 0.2s;
    transition-property: width, background-color;
    transition-timing-function: var(--animation-curve-default);
    width: 0;
  }

  &::before {
    left: 50%;
  }

  &::after {
    right: 50%;
  }
}

.normal {
    line-height: var(--input-line-height);

    .prefix, .suffix {
        width: var(--input-icon-width);
        height: var(--input-icon-width);
        line-height: var(--input-icon-width);
    }

    .prefix ~ .inputElement {
        padding-left: var(--input-icon-width);
    }

    .suffix ~ .inputElement {
        padding-right: var(--input-icon-width);
    }
}

.small {
    line-height: var(--input-small-line-height);

    .prefix, .suffix {
        width: var(--input-small-icon-width);
        height: var(--input-small-icon-width);
        line-height: var(--input-small-icon-width);
    }

    .prefix ~ .inputElement {
        padding-left: var(--input-small-icon-width);
    }

    .suffix ~ .inputElement {
        padding-right: var(--input-small-icon-width);
    }
}

.large {
    line-height: var(--input-large-line-height);

    .prefix, .suffix {
        width: var(--input-large-icon-width);
        height: var(--input-large-icon-width);
        line-height: var(--input-large-icon-width);
    }

    .prefix ~ .inputElement {
        padding-left: var(--input-large-icon-width);
    }

    .suffix ~ .inputElement {
        padding-right: var(--input-large-icon-width);
    }
}

.prefix, .suffix {
    color: var(--input-icon-color);
    position: absolute;
    top: 0;
    transition: color 0.2s var(--animation-curve-default);
    cursor: pointer;


    &.search:hover {
        color: var(--input-border-color-focus);
    }

    &.close-circle {
        color: var(--input-text-bottom-border-color);
    }

    &.close-circle:hover {
        color: var(--input-icon-close-color-hover);
    }
}


.prefix {
    left: 0;
}

.suffix {
    right: 0;
}


.textarea {
    display: block;
    width: 100%;
    resize: vertical;
    padding: 5px 7px;
    line-height: var(--input-line-height);

    @apply --reset;

    font-size: var(--font-size);
    border: 1px solid var(--input-text-bottom-border-color);
    color: var(--input-color);
    background-color: #fff;
    background-image: none;
    border-radius: 4px;
    transition: border-color var(--animation-duration) var(--animation-curve-default);

    &:focus:not([disabled]):not([readonly]),
    &:hover:not([disabled]):not([readonly]) {
        outline: none;
        border-color: var(--input-border-color-focus);
    }
}
